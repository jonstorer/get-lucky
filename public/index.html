<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>Get Lucky</title>
    <link rel='stylesheet' type='text/css' href='css/lucky.css'>
  </head>
  <body>
    <div id='main'></div>
    <div id='grid'>
      <div class='track' data-voice='melody'>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
      </div>
      <div class='track' data-voice='bass'>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
      </div>
      <div class='track' data-voice='drums'>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
        <div class='beat'></div>
      </div>
    </div>
    <div id='library'>
      <div class='sample' data-sample-id='intro'>
        I'm the intro
      </div>
      <br>
      <div class='sample' data-sample-id='breakdown'>
        I'm the breakdown
      </div>
      <br>
      <div class='sample' data-sample-id='hook'>
        I'm the hook
      </div>
    </div>
  </body>
  <script src='requirejs/require.js' data-main='src/config.js'></script>
  <script>
    require(['jquery/jquery.js', 'jquery-ui/ui/jquery-ui.js', 'underscore/underscore-min.js'], function() {

      $(function(){
        $('.sample').draggable({
          snap: '.beat',
          snapTolerance: 10
        });

        $('.beat').droppable({
          accept: '.sample',
          activeClass: 'active',
          hoverClass: 'hover',
          drop: function( event, ui ) {
            console.log('dropped');
          }
        });
      });

    });
  </script>
  <style>
    .active {
      background-color: grey;
    }

    .hover {
      background-color: blue;
    }

    .track {
      margin-bottom: 10px;
      border-top: 1px solid black;
      overflow: auto
    }

    .beat {
      float:left;
      height: 100px;
      width: 20px;
      border-left: 1px solid black;
      border-bottom: 1px solid black;
    }

    .sample {
      height: 100px;
      width: 100px;
      background-color: red;
    }
  </style>
</html>
